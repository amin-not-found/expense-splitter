import{S as ne,i as re,s as ae,k,a as P,q as j,l as E,m as T,h,c as I,r as V,n as $,T as Se,b as D,C as m,D as W,u as ee,E as Q,Q as ve,o as xe,g as A,v as fe,f as _e,d as C,N as ie,U as We,P as ge,F as de,w as Fe,V as Qe,y as X,z as Z,A as G,W as Xe,B as J,X as ce,Y as Pe,p as pe,Z as Ze,_ as Ge,$ as Je,a0 as Ke,L as Ie,e as Le}from"../chunks/index.737bebd0.js";import{f as Ye,e as Ne,s as Ae,a as me,M as et}from"../chunks/Modal.5afdcc6d.js";import{m as R,c as tt}from"../chunks/stores.a5f0f004.js";import{E as lt,M as st}from"../chunks/ModalController.f8213627.js";import{L as nt}from"../chunks/Loading.4d5898d3.js";function rt(n){let e,t,l,a,s,o,u=n[1].name+"",r,i,f,_=n[1].payer+"",p,c,v,g=n[1].amount.toLocaleString()+"",d,y,b,N=n[2](n[1].debtors)+"",H,te,M,K,Y,O;return{c(){e=k("tr"),t=k("td"),l=k("input"),s=P(),o=k("td"),r=j(u),i=P(),f=k("td"),p=j(_),c=P(),v=k("td"),d=j(g),y=P(),b=k("td"),H=j(N),te=P(),M=k("td"),K=j("›"),this.h()},l(U){e=E(U,"TR",{class:!0});var L=T(e);t=E(L,"TD",{class:!0});var le=T(t);l=E(le,"INPUT",{type:!0,class:!0}),le.forEach(h),s=I(L),o=E(L,"TD",{class:!0});var oe=T(o);r=V(oe,u),oe.forEach(h),i=I(L),f=E(L,"TD",{class:!0});var ue=T(f);p=V(ue,_),ue.forEach(h),c=I(L),v=E(L,"TD",{class:!0});var x=T(v);d=V(x,g),x.forEach(h),y=I(L),b=E(L,"TD",{class:!0});var S=T(b);H=V(S,N),S.forEach(h),te=I(L),M=E(L,"TD",{class:!0});var he=T(M);K=V(he,"›"),he.forEach(h),L.forEach(h),this.h()},h(){$(l,"type","checkbox"),l.__value=a=n[1].name,l.value=l.__value,$(l,"class","unselectable svelte-15rqrj9"),$(t,"class","unselectable svelte-15rqrj9"),$(o,"class","svelte-15rqrj9"),$(f,"class","svelte-15rqrj9"),$(v,"class","svelte-15rqrj9"),$(b,"class","svelte-15rqrj9"),$(M,"class","symbol svelte-15rqrj9"),$(e,"class","svelte-15rqrj9"),Se(e,"selected",n[0])},m(U,L){D(U,e,L),m(e,t),m(t,l),l.checked=n[0],m(e,s),m(e,o),m(o,r),m(e,i),m(e,f),m(f,p),m(e,c),m(e,v),m(v,d),m(e,y),m(e,b),m(b,H),m(e,te),m(e,M),m(M,K),Y||(O=[W(l,"change",n[4]),W(e,"click",n[3])],Y=!0)},p(U,[L]){L&2&&a!==(a=U[1].name)&&(l.__value=a,l.value=l.__value),L&1&&(l.checked=U[0]),L&2&&u!==(u=U[1].name+"")&&ee(r,u),L&2&&_!==(_=U[1].payer+"")&&ee(p,_),L&2&&g!==(g=U[1].amount.toLocaleString()+"")&&ee(d,g),L&2&&N!==(N=U[2](U[1].debtors)+"")&&ee(H,N),L&1&&Se(e,"selected",U[0])},i:Q,o:Q,d(U){U&&h(e),Y=!1,ve(O)}}}function at(n,e,t){let{expense:l}=e,{isSelected:a=!1}=e,s=2;xe(()=>s=screen.width<500?2:3);function o(i){let f=i.values(),_=f.next().value,p=1;for(;p<s&&p<i.size;)_+=`, ${f.next().value}`,p+=1;return p<i.size&&(_+=` and ${i.size-p} ${p==i.size-1?"other":"others"}`),_}function u(i){i.target.classList.contains("unselectable")||R.editExpense(l)}function r(){a=this.checked,t(0,a)}return n.$$set=i=>{"expense"in i&&t(1,l=i.expense),"isSelected"in i&&t(0,a=i.isSelected)},[a,l,o,u,r]}class ot extends ne{constructor(e){super(),re(this,e,at,rt,ae,{expense:1,isSelected:0})}}function Be(n,e,t){const l=n.slice();return l[7]=e[t],l[8]=e,l[9]=t,l}function ze(n){let e,t,l;function a(o){n[6](o,n[9])}let s={expense:n[7]};return n[0][n[9]]!==void 0&&(s.isSelected=n[0][n[9]]),e=new ot({props:s}),Fe.push(()=>Qe(e,"isSelected",a)),{c(){X(e.$$.fragment)},l(o){Z(e.$$.fragment,o)},m(o,u){G(e,o,u),l=!0},p(o,u){n=o;const r={};u&4&&(r.expense=n[7]),!t&&u&1&&(t=!0,r.isSelected=n[0][n[9]],Xe(()=>t=!1)),e.$set(r)},i(o){l||(A(e.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),l=!1},d(o){J(e,o)}}}function je(n){let e,t,l,a,s,o,u,r,i,f,_;return{c(){e=k("div"),t=k("button"),l=j("Delete selected expenses"),a=P(),s=k("button"),o=j("Deselect expenses"),this.h()},l(p){e=E(p,"DIV",{});var c=T(e);t=E(c,"BUTTON",{class:!0});var v=T(t);l=V(v,"Delete selected expenses"),v.forEach(h),a=I(c),s=E(c,"BUTTON",{class:!0});var g=T(s);o=V(g,"Deselect expenses"),g.forEach(h),c.forEach(h),this.h()},h(){$(t,"class","control delete svelte-wwru6c"),$(s,"class","control svelte-wwru6c")},m(p,c){D(p,e,c),m(e,t),m(t,l),m(e,a),m(e,s),m(s,o),i=!0,f||(_=[W(t,"click",n[3]),W(s,"click",n[5])],f=!0)},p(p,c){n=p},i(p){i||(u||ie(()=>{u=We(s,Ye,{duration:500}),u.start()}),ie(()=>{i&&(r||(r=ce(e,Ae,{easing:Ne},!0)),r.run(1))}),i=!0)},o(p){r||(r=ce(e,Ae,{easing:Ne},!1)),r.run(0),i=!1},d(p){p&&h(e),p&&r&&r.end(),f=!1,ve(_)}}}function it(n){let e,t,l,a,s,o,u,r,i,f,_,p,c,v,g,d,y,b,N,H,te,M,K,Y,O,U,L,le,oe,ue,x=n[2].expenses,S=[];for(let w=0;w<x.length;w+=1)S[w]=ze(Be(n,x,w));const he=w=>C(S[w],1,1,()=>{S[w]=null});let q=n[1]&&je(n);return{c(){e=k("div"),t=k("button"),l=j("Add new expense"),a=P(),s=k("table"),o=k("thead"),u=k("tr"),r=k("th"),i=P(),f=k("th"),_=j("Name"),p=P(),c=k("th"),v=j("Payer"),g=P(),d=k("th"),y=j("Amount"),b=P(),N=k("th"),H=j("Debtor"),te=P(),M=k("tbody");for(let w=0;w<S.length;w+=1)S[w].c();K=P(),q&&q.c(),Y=P(),O=k("button"),U=j("Select all expenses"),this.h()},l(w){e=E(w,"DIV",{id:!0,class:!0});var B=T(e);t=E(B,"BUTTON",{id:!0,class:!0});var z=T(t);l=V(z,"Add new expense"),z.forEach(h),B.forEach(h),a=I(w),s=E(w,"TABLE",{class:!0});var se=T(s);o=E(se,"THEAD",{});var $e=T(o);u=E($e,"TR",{class:!0});var F=T(u);r=E(F,"TH",{class:!0}),T(r).forEach(h),i=I(F),f=E(F,"TH",{class:!0});var we=T(f);_=V(we,"Name"),we.forEach(h),p=I(F),c=E(F,"TH",{class:!0});var ke=T(c);v=V(ke,"Payer"),ke.forEach(h),g=I(F),d=E(F,"TH",{class:!0});var Ee=T(d);y=V(Ee,"Amount"),Ee.forEach(h),b=I(F),N=E(F,"TH",{class:!0});var ye=T(N);H=V(ye,"Debtor"),ye.forEach(h),F.forEach(h),$e.forEach(h),te=I(se),M=E(se,"TBODY",{});var Te=T(M);for(let be=0;be<S.length;be+=1)S[be].l(Te);Te.forEach(h),se.forEach(h),K=I(w),q&&q.l(w),Y=I(w),O=E(w,"BUTTON",{class:!0});var De=T(O);U=V(De,"Select all expenses"),De.forEach(h),this.h()},h(){$(t,"id","add"),$(t,"class","svelte-wwru6c"),$(e,"id","add-wrapper"),$(e,"class","svelte-wwru6c"),$(r,"class","svelte-wwru6c"),$(f,"class","svelte-wwru6c"),$(c,"class","svelte-wwru6c"),$(d,"class","svelte-wwru6c"),$(N,"class","svelte-wwru6c"),$(u,"class","svelte-wwru6c"),$(s,"class","svelte-wwru6c"),$(O,"class","control svelte-wwru6c")},m(w,B){D(w,e,B),m(e,t),m(t,l),D(w,a,B),D(w,s,B),m(s,o),m(o,u),m(u,r),m(u,i),m(u,f),m(f,_),m(u,p),m(u,c),m(c,v),m(u,g),m(u,d),m(d,y),m(u,b),m(u,N),m(N,H),m(s,te),m(s,M);for(let z=0;z<S.length;z+=1)S[z]&&S[z].m(M,null);D(w,K,B),q&&q.m(w,B),D(w,Y,B),D(w,O,B),m(O,U),le=!0,oe||(ue=[W(t,"click",R.createExpense),W(O,"click",n[4])],oe=!0)},p(w,[B]){if(B&5){x=w[2].expenses;let z;for(z=0;z<x.length;z+=1){const se=Be(w,x,z);S[z]?(S[z].p(se,B),A(S[z],1)):(S[z]=ze(se),S[z].c(),A(S[z],1),S[z].m(M,null))}for(fe(),z=x.length;z<S.length;z+=1)he(z);_e()}w[1]?q?(q.p(w,B),B&2&&A(q,1)):(q=je(w),q.c(),A(q,1),q.m(Y.parentNode,Y)):q&&(fe(),C(q,1,1,()=>{q=null}),_e())},i(w){if(!le){for(let B=0;B<x.length;B+=1)A(S[B]);A(q),L||ie(()=>{L=We(O,Ye,{duration:500}),L.start()}),le=!0}},o(w){S=S.filter(Boolean);for(let B=0;B<S.length;B+=1)C(S[B]);C(q),le=!1},d(w){w&&h(e),w&&h(a),w&&h(s),ge(S,w),w&&h(K),q&&q.d(w),w&&h(Y),w&&h(O),oe=!1,ve(ue)}}}function ct(n,e,t){let l,a;de(n,R,f=>t(2,a=f));let s=a.expenses.map(()=>!1);function o(){let f=a.expenses.filter((_,p)=>s[p]).map(_=>_.name);R.deleteExpenses(...f),t(0,s=a.expenses.map(()=>!1))}function u(){t(0,s=a.expenses.map(()=>!0))}function r(){t(0,s=a.expenses.map(()=>!1))}function i(f,_){n.$$.not_equal(s[_],f)&&(s[_]=f,t(0,s))}return n.$$.update=()=>{n.$$.dirty&1&&t(1,l=s.some(f=>f))},[s,l,a,o,u,r,i]}class ut extends ne{constructor(e){super(),re(this,e,ct,it,ae,{})}}function ft(n){let e,t,l,a,s,o,u,r,i,f;return{c(){e=k("div"),t=k("span"),l=j(n[0]),a=P(),s=k("button"),o=j("✕"),this.h()},l(_){e=E(_,"DIV",{class:!0});var p=T(e);t=E(p,"SPAN",{class:!0});var c=T(t);l=V(c,n[0]),c.forEach(h),a=I(p),s=E(p,"BUTTON",{class:!0});var v=T(s);o=V(v,"✕"),v.forEach(h),p.forEach(h),this.h()},h(){$(t,"class","svelte-165g6a4"),$(s,"class","svelte-165g6a4"),$(e,"class","svelte-165g6a4")},m(_,p){D(_,e,p),m(e,t),m(t,l),m(e,a),m(e,s),m(s,o),r=!0,i||(f=W(s,"click",n[1]),i=!0)},p(_,[p]){(!r||p&1)&&ee(l,_[0])},i(_){r||(ie(()=>{r&&(u||(u=ce(e,me,{},!0)),u.run(1))}),r=!0)},o(_){u||(u=ce(e,me,{},!1)),u.run(0),r=!1},d(_){_&&h(e),_&&u&&u.end(),i=!1,f()}}}function _t(n,e,t){let{name:l}=e;const a=()=>{R.removePerson(l)};return n.$$set=s=>{"name"in s&&t(0,l=s.name)},[l,a]}class ht extends ne{constructor(e){super(),re(this,e,_t,ft,ae,{name:0})}}function Ve(n,e,t){const l=n.slice();return l[7]=e[t],l}function qe(n){let e,t;return e=new ht({props:{name:n[7]}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){const s={};a&4&&(s.name=l[7]),e.$set(s)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function dt(n){let e,t,l,a,s,o,u,r,i,f,_;o=new lt({props:{error:n[1]}});let p=n[2],c=[];for(let g=0;g<p.length;g+=1)c[g]=qe(Ve(n,p,g));const v=g=>C(c[g],1,1,()=>{c[g]=null});return{c(){e=k("div"),t=k("input"),l=k("button"),a=j("Add"),s=P(),X(o.$$.fragment),u=P(),r=k("div");for(let g=0;g<c.length;g+=1)c[g].c();this.h()},l(g){e=E(g,"DIV",{id:!0,class:!0});var d=T(e);t=E(d,"INPUT",{type:!0,maxlength:!0,placeholder:!0,class:!0}),l=E(d,"BUTTON",{class:!0});var y=T(l);a=V(y,"Add"),y.forEach(h),d.forEach(h),s=I(g),Z(o.$$.fragment,g),u=I(g),r=E(g,"DIV",{class:!0});var b=T(r);for(let N=0;N<c.length;N+=1)c[N].l(b);b.forEach(h),this.h()},h(){$(t,"type","text"),$(t,"maxlength","35"),$(t,"placeholder","New person name"),$(t,"class","svelte-rh9ot1"),$(l,"class","svelte-rh9ot1"),$(e,"id","person-input"),$(e,"class","svelte-rh9ot1"),$(r,"class","svelte-rh9ot1")},m(g,d){D(g,e,d),m(e,t),Pe(t,n[0]),m(e,l),m(l,a),D(g,s,d),G(o,g,d),D(g,u,d),D(g,r,d);for(let y=0;y<c.length;y+=1)c[y]&&c[y].m(r,null);i=!0,f||(_=[W(t,"input",n[5]),W(t,"keydown",n[6]),W(l,"click",n[3])],f=!0)},p(g,[d]){d&1&&t.value!==g[0]&&Pe(t,g[0]);const y={};if(d&2&&(y.error=g[1]),o.$set(y),d&4){p=g[2];let b;for(b=0;b<p.length;b+=1){const N=Ve(g,p,b);c[b]?(c[b].p(N,d),A(c[b],1)):(c[b]=qe(N),c[b].c(),A(c[b],1),c[b].m(r,null))}for(fe(),b=p.length;b<c.length;b+=1)v(b);_e()}},i(g){if(!i){A(o.$$.fragment,g);for(let d=0;d<p.length;d+=1)A(c[d]);i=!0}},o(g){C(o.$$.fragment,g),c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)C(c[d]);i=!1},d(g){g&&h(e),g&&h(s),J(o,g),g&&h(u),g&&h(r),ge(c,g),f=!1,ve(_)}}}function pt(n,e,t){let l,a;de(n,R,f=>t(4,a=f));let s="",o;function u(){t(1,o=R.addPerson(s)),s===""&&t(1,o=""),o||t(0,s="")}function r(){s=this.value,t(0,s)}const i=f=>{f.key==="Enter"&&u()};return n.$$.update=()=>{n.$$.dirty&16&&t(2,l=Array.from(a.people))},[s,o,l,u,a,r,i]}class mt extends ne{constructor(e){super(),re(this,e,pt,dt,ae,{})}}function Ce(n,e,t){const l=n.slice();return l[2]=e[t],l}function Ue(n){let e,t,l=n[2].amount.toLocaleString()+"",a,s,o=n[2].receiver+"",u;return{c(){e=k("li"),t=k("span"),a=j(l),s=j(" to "),u=j(o),this.h()},l(r){e=E(r,"LI",{class:!0});var i=T(e);t=E(i,"SPAN",{class:!0});var f=T(t);a=V(f,l),f.forEach(h),s=V(i," to "),u=V(i,o),i.forEach(h),this.h()},h(){$(t,"class","svelte-9aarws"),$(e,"class","svelte-9aarws")},m(r,i){D(r,e,i),m(e,t),m(t,a),m(e,s),m(e,u)},p(r,i){i&2&&l!==(l=r[2].amount.toLocaleString()+"")&&ee(a,l),i&2&&o!==(o=r[2].receiver+"")&&ee(u,o)},d(r){r&&h(e)}}}function vt(n){let e,t,l,a,s,o,u=n[1],r=[];for(let i=0;i<u.length;i+=1)r[i]=Ue(Ce(n,u,i));return{c(){e=k("div"),t=k("h4"),l=j(n[0]),a=j(" owes:"),s=P(),o=k("ul");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=E(i,"DIV",{class:!0});var f=T(e);t=E(f,"H4",{});var _=T(t);l=V(_,n[0]),a=V(_," owes:"),_.forEach(h),s=I(f),o=E(f,"UL",{class:!0});var p=T(o);for(let c=0;c<r.length;c+=1)r[c].l(p);p.forEach(h),f.forEach(h),this.h()},h(){$(o,"class","svelte-9aarws"),$(e,"class","svelte-9aarws")},m(i,f){D(i,e,f),m(e,t),m(t,l),m(t,a),m(e,s),m(e,o);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(o,null)},p(i,[f]){if(f&1&&ee(l,i[0]),f&2){u=i[1];let _;for(_=0;_<u.length;_+=1){const p=Ce(i,u,_);r[_]?r[_].p(p,f):(r[_]=Ue(p),r[_].c(),r[_].m(o,null))}for(;_<r.length;_+=1)r[_].d(1);r.length=u.length}},i:Q,o:Q,d(i){i&&h(e),ge(r,i)}}}function gt(n,e,t){let{creditor:l}=e,{debts:a}=e;return n.$$set=s=>{"creditor"in s&&t(0,l=s.creditor),"debts"in s&&t(1,a=s.debts)},[l,a]}class bt extends ne{constructor(e){super(),re(this,e,gt,vt,ae,{creditor:0,debts:1})}}const{Map:$t}=Je;function Me(n,e,t){const l=n.slice();return l[9]=e[t],l}function He(n,e,t){const l=n.slice();return l[12]=e[t],l}function Oe(n,e){let t,l,a,s;return l=new bt({props:{creditor:e[12][0],debts:e[12][1]}}),{key:n,first:null,c(){t=k("div"),X(l.$$.fragment),this.h()},l(o){t=E(o,"DIV",{});var u=T(t);Z(l.$$.fragment,u),u.forEach(h),this.h()},h(){this.first=t},m(o,u){D(o,t,u),G(l,t,null),s=!0},p(o,u){e=o;const r={};u&4&&(r.creditor=e[12][0]),u&4&&(r.debts=e[12][1]),l.$set(r)},i(o){s||(A(l.$$.fragment,o),ie(()=>{s&&(a||(a=ce(t,me,{},!0)),a.run(1))}),s=!0)},o(o){C(l.$$.fragment,o),a||(a=ce(t,me,{},!1)),a.run(0),s=!1},d(o){o&&h(t),J(l),o&&a&&a.end()}}}function Re(n){let e,t=[],l=new $t,a,s,o=n[9];const u=r=>r[3](r[12]);for(let r=0;r<o.length;r+=1){let i=He(n,o,r),f=u(i);l.set(f,t[r]=Oe(f,i))}return{c(){e=k("div");for(let r=0;r<t.length;r+=1)t[r].c();a=P(),this.h()},l(r){e=E(r,"DIV",{class:!0,style:!0});var i=T(e);for(let f=0;f<t.length;f+=1)t[f].l(i);a=I(i),i.forEach(h),this.h()},h(){$(e,"class","col svelte-1gehjtz"),pe(e,"gap",n[0]+"px")},m(r,i){D(r,e,i);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);m(e,a),s=!0},p(r,i){i&4&&(o=r[9],fe(),t=Ge(t,i,u,1,r,o,l,e,Ke,Oe,a,He),_e()),(!s||i&1)&&pe(e,"gap",r[0]+"px")},i(r){if(!s){for(let i=0;i<o.length;i+=1)A(t[i]);s=!0}},o(r){for(let i=0;i<t.length;i+=1)C(t[i]);s=!1},d(r){r&&h(e);for(let i=0;i<t.length;i+=1)t[i].d()}}}function wt(n){let e,t,l,a,s,o,u=`${n[0]}px`,r,i,f,_,p,c=n[2],v=[];for(let d=0;d<c.length;d+=1)v[d]=Re(Me(n,c,d));const g=d=>C(v[d],1,1,()=>{v[d]=null});return{c(){e=k("div"),t=k("button"),l=j("Settle debts"),a=P(),s=k("div");for(let d=0;d<v.length;d+=1)v[d].c();r=P(),i=k("br"),this.h()},l(d){e=E(d,"DIV",{class:!0});var y=T(e);t=E(y,"BUTTON",{class:!0});var b=T(t);l=V(b,"Settle debts"),b.forEach(h),y.forEach(h),a=I(d),s=E(d,"DIV",{class:!0});var N=T(s);for(let H=0;H<v.length;H+=1)v[H].l(N);N.forEach(h),r=I(d),i=E(d,"BR",{}),this.h()},h(){$(t,"class","svelte-1gehjtz"),$(e,"class","btn-wrapper svelte-1gehjtz"),$(s,"class","masonry svelte-1gehjtz"),ie(()=>n[8].call(s)),pe(s,"gap",u)},m(d,y){D(d,e,y),m(e,t),m(t,l),D(d,a,y),D(d,s,y);for(let b=0;b<v.length;b+=1)v[b]&&v[b].m(s,null);o=Ze(s,n[8].bind(s)),D(d,r,y),D(d,i,y),f=!0,_||(p=W(t,"click",n[4]),_=!0)},p(d,[y]){if(y&5){c=d[2];let b;for(b=0;b<c.length;b+=1){const N=Me(d,c,b);v[b]?(v[b].p(N,y),A(v[b],1)):(v[b]=Re(N),v[b].c(),A(v[b],1),v[b].m(s,null))}for(fe(),b=c.length;b<v.length;b+=1)g(b);_e()}y&1&&u!==(u=`${d[0]}px`)&&pe(s,"gap",u)},i(d){if(!f){for(let y=0;y<c.length;y+=1)A(v[y]);f=!0}},o(d){v=v.filter(Boolean);for(let y=0;y<v.length;y+=1)C(v[y]);f=!1},d(d){d&&h(e),d&&h(a),d&&h(s),ge(v,d),o(),d&&h(r),d&&h(i),_=!1,p()}}}function kt(n,e,t){let l,{gap:a=13}=e,{minColWidth:s=160}=e,o,u,r=new Map,i=p=>p[0];function f(){t(6,r=R.evaluateExpenses())}f();function _(){u=this.clientWidth,t(1,u)}return n.$$set=p=>{"gap"in p&&t(0,a=p.gap),"minColWidth"in p&&t(5,s=p.minColWidth)},n.$$.update=()=>{n.$$.dirty&99&&t(7,l=Math.min(r.size,Math.floor(u/(s+a))||1)),n.$$.dirty&192&&t(2,o=Array.from(r).reduce((p,c,v)=>(c[1].length>0&&p[v%p.length].push(c),p),Array.from({length:l},()=>[])))},[a,u,o,i,f,s,r,l,_]}class Et extends ne{constructor(e){super(),re(this,e,kt,wt,ae,{gap:0,minColWidth:5})}}function yt(n){return{c:Q,l:Q,m:Q,i:Q,o:Q,d:Q}}function Tt(n){let e,t,l,a,s,o,u,r,i,f,_,p;return e=new mt({}),s=new ut({}),u=new st({}),_=new Et({}),{c(){X(e.$$.fragment),t=P(),l=k("hr"),a=P(),X(s.$$.fragment),o=P(),X(u.$$.fragment),r=P(),i=k("hr"),f=P(),X(_.$$.fragment),this.h()},l(c){Z(e.$$.fragment,c),t=I(c),l=E(c,"HR",{class:!0}),a=I(c),Z(s.$$.fragment,c),o=I(c),Z(u.$$.fragment,c),r=I(c),i=E(c,"HR",{class:!0}),f=I(c),Z(_.$$.fragment,c),this.h()},h(){$(l,"class","svelte-56kbh8"),$(i,"class","svelte-56kbh8")},m(c,v){G(e,c,v),D(c,t,v),D(c,l,v),D(c,a,v),G(s,c,v),D(c,o,v),G(u,c,v),D(c,r,v),D(c,i,v),D(c,f,v),G(_,c,v),p=!0},i(c){p||(A(e.$$.fragment,c),A(s.$$.fragment,c),A(u.$$.fragment,c),A(_.$$.fragment,c),p=!0)},o(c){C(e.$$.fragment,c),C(s.$$.fragment,c),C(u.$$.fragment,c),C(_.$$.fragment,c),p=!1},d(c){J(e,c),c&&h(t),c&&h(l),c&&h(a),J(s,c),c&&h(o),J(u,c),c&&h(r),c&&h(i),c&&h(f),J(_,c)}}}function Dt(n){let e,t,l,a;return e=new et({props:{$$slots:{default:[Pt]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment),t=P(),l=k("div"),this.h()},l(s){Z(e.$$.fragment,s),t=I(s),l=E(s,"DIV",{class:!0}),T(l).forEach(h),this.h()},h(){$(l,"class","empty spave")},m(s,o){G(e,s,o),D(s,t,o),D(s,l,o),a=!0},i(s){a||(A(e.$$.fragment,s),a=!0)},o(s){C(e.$$.fragment,s),a=!1},d(s){J(e,s),s&&h(t),s&&h(l)}}}function St(n){let e;return{c(){e=j("Loading the event..")},l(t){e=V(t,"Loading the event..")},m(t,l){D(t,e,l)},d(t){t&&h(e)}}}function Pt(n){let e,t;return e=new nt({props:{$$slots:{default:[St]},$$scope:{ctx:n}}}),{c(){X(e.$$.fragment)},l(l){Z(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){const s={};a&32&&(s.$$scope={dirty:a,ctx:l}),e.$set(s)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function It(n){let e,t,l,a={ctx:n,current:null,token:null,hasCatch:!1,pending:Dt,then:Tt,catch:yt,value:4,blocks:[,,,]};return Ie(t=n[0],a),{c(){e=Le(),a.block.c()},l(s){e=Le(),a.block.l(s)},m(s,o){D(s,e,o),a.block.m(s,a.anchor=o),a.mount=()=>e.parentNode,a.anchor=e,l=!0},p(s,[o]){n=s,a.ctx=n,o&1&&t!==(t=n[0])&&Ie(t,a)},i(s){l||(A(a.block),l=!0)},o(s){for(let o=0;o<3;o+=1){const u=a.blocks[o];C(u)}l=!1},d(s){s&&h(e),a.block.d(s),a.token=null,a=null}}}function Lt(n,e,t){let l,a;de(n,R,u=>t(1,l=u)),de(n,tt,u=>t(2,a=u));const s=a.currentEvent;let o;return console.log("eventId",s),s>0&&(o=R.initEvent(s)),window.clearPeople=function(){l.killPeople(l.people)},window.addPeople=function(u){for(let r=0;r<u;r++)R.addPerson(r.toString())},window.timeEvaluate=function(){console.time(),R.evaluateExpenses(),console.timeEnd()},[o]}class Vt extends ne{constructor(e){super(),re(this,e,Lt,It,ae,{})}}export{Vt as component};
